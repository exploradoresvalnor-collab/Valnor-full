# âœ… CHECKLIST DE MIGRACIÃ“N VALNOR: Angular â†’ React

> **Inicio:** 31 de enero de 2026  
> **Estado:** ðŸ”„ EN PROGRESO

---

## ðŸ“Š PROGRESO GENERAL

```
Fase 1: Infraestructura    [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] 100% âœ…
Fase 2: Motor 3D Core      [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] 100% âœ…
Fase 3: Sistemas Engine    [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] 100% âœ…
Fase 4: Niveles            [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] 100% âœ…
Fase 5: RPG y Combate      [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] 100% âœ…
Fase 6: Shaders y VFX      [â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘]   0%
Fase 7: IntegraciÃ³n        [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘]  60% ðŸ”„
Fase 8: PWA + MÃ³vil        [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] 100% âœ…
```

---

## ðŸ”´ FASE 1: INFRAESTRUCTURA BASE

### 1.1 ConfiguraciÃ³n de Proyecto
- [x] Tailwind CSS instalado y configurado
- [x] Framer Motion instalado
- [x] Estructura de carpetas creada
- [x] ConfiguraciÃ³n de paths en tsconfig

### 1.2 Stores (Zustand)
- [x] `stores/gameStore.ts` - Estado global del juego
- [x] `stores/uiStore.ts` - Estado de UI (modales, loading)
- [x] `stores/playerStore.ts` - Estado del jugador
- [x] `stores/index.ts` - Exports centralizados

### 1.3 Types/Models Completos
- [x] `types/character.types.ts` - Personajes y stats
- [x] `types/dungeon.types.ts` - Mazmorras y combate
- [x] `types/survival.types.ts` - Modo survival
- [x] `types/ranking.types.ts` - Rankings y logros
- [x] `types/shop.types.ts` - Tienda
- [x] `types/rpg.types.ts` - Sistema RPG
- [x] `types/index.ts` - Exports actualizados

### 1.4 Services Adicionales
- [x] `services/dungeon.service.ts` - Servicio de mazmorras
- [x] `services/ranking.service.ts` - Servicio de rankings
- [x] `services/socket.service.ts` - WebSocket
- [x] `services/index.ts` - Exports actualizados

### 1.5 Guards y Componentes Base
- [x] `components/guards/RequireAuth.tsx`
- [x] `components/guards/RequireNoAuth.tsx`
- [x] `components/guards/index.ts`
- [x] `components/ui/LoadingScreen.tsx`
- [x] `components/ui/GlobalNavbar.tsx`
- [x] `components/ui/index.ts`

### 1.6 Utils y Helpers
- [x] `utils/constants.ts` - Constantes globales
- [x] `utils/helpers.ts` - Funciones utilitarias
- [x] `utils/index.ts` - Exports

---

## ðŸŸ  FASE 2: MOTOR 3D CORE (React Three Fiber)

### 2.1 Setup Base
- [x] `engine/components/GameCanvas.tsx` - Canvas principal R3F
- [x] `engine/components/PhysicsWorld.tsx` - Wrapper Rapier
- [x] `engine/stores/engineStore.ts` - Estado del engine

### 2.2 Sistema de CÃ¡mara
- [x] `engine/hooks/useCamera.ts` - Control de cÃ¡mara
- [x] `engine/components/GameCamera.tsx` - CÃ¡mara 3ra persona

### 2.3 Sistema de Input
- [x] `engine/hooks/useInput.ts` - Teclado/ratÃ³n/touch
- [x] ~~`engine/hooks/useKeyboard.ts`~~ (integrado en useInput)

### 2.4 Player Controller
- [x] `engine/components/Player.tsx` - Componente jugador
- [x] `engine/hooks/useMovement.ts` - LÃ³gica de movimiento
- [x] ~~`engine/hooks/useGrounding.ts`~~ (integrado en useMovement)

### 2.5 Core Utils
- [x] `engine/utils/physics.ts` - Utilidades de fÃ­sica
- [x] `engine/utils/math.ts` - Utilidades matemÃ¡ticas
- [x] `engine/utils/logger.ts` - Debug logger

---

## ðŸŸ¡ FASE 3: SISTEMAS DEL ENGINE (14 sistemas)

### 3.1 Sistemas CrÃ­ticos (Prioridad ALTA)
- [x] `engine/systems/CameraSystem.ts` - âœ… Integrado en useCamera.ts
- [x] `engine/systems/MovementSystem.ts` - âœ… Integrado en useMovement.ts
- [x] `engine/systems/GroundingSystem.ts` - âœ… Integrado en useMovement.ts
- [x] `engine/systems/AnimationSystem.ts` - Animaciones de personaje âœ…
- [x] `engine/systems/CombatSystem.ts` - Sistema de combate âœ…

### 3.2 Sistemas de Ambiente (Prioridad MEDIA)
- [x] `engine/systems/WeatherSystem.tsx` - Clima (lluvia, nieve) âœ…
- [x] `engine/systems/UltraSkySystem.tsx` - Cielo procedural âœ…
- [x] `engine/systems/AudioSystem.ts` - Sistema de audio âœ…
- [x] `engine/systems/VFXSystem.tsx` - Efectos visuales âœ…

### 3.3 Sistemas Secundarios (Prioridad BAJA)
- [x] `engine/systems/PostProcessSystem.tsx` - Post-procesado âœ…
- [x] `engine/systems/TrailSystem.tsx` - Estelas âœ…
- [x] `engine/systems/InstancedGrass.tsx` - Hierba instanciada âœ…
- [x] `engine/systems/WildlifeSystem.tsx` - Fauna âœ…
- [x] `engine/systems/AmbientParticlesSystem.tsx` - PartÃ­culas âœ…

---

## ðŸŸ¢ FASE 4: NIVELES DE JUEGO (9 niveles) âœ…

### 4.1 Niveles Prioritarios
- [x] `engine/scenes/PreviewLevel.tsx` - Lobby (cielo + agua) âœ…
- [x] `engine/scenes/TestLevel.tsx` - Nivel de pruebas âœ…

### 4.2 Niveles Principales
- [x] `engine/scenes/CastleLevel.tsx` - Fortaleza medieval âœ…
- [x] `engine/scenes/ValleyLevel.tsx` - Valle natural âœ…
- [x] `engine/scenes/CanyonLevel.tsx` - CaÃ±Ã³n âœ…

### 4.3 Niveles Adicionales
- [x] `engine/scenes/MiningMountainLevel.tsx` - Cueva goblins âœ…
- [x] `engine/scenes/PlainLevel.tsx` - Llanuras âœ…
- [x] `engine/scenes/TerrainTestLevel.tsx` - Test terreno âœ…
- [x] `engine/scenes/LevelKit.ts` - Herramientas de niveles âœ…

---

## ðŸ”µ FASE 5: SISTEMA RPG Y COMBATE

### 5.1 Core RPG
- [x] `engine/rpg/rpg-calculator.ts` - CÃ¡lculos de daÃ±o âœ…
- [x] `engine/rpg/enemy-factory.ts` - FÃ¡brica de enemigos âœ…
- [x] `engine/rpg/leveling-system.ts` - Sistema de niveles/XP âœ…

### 5.2 Sistemas de Loot y Guardado
- [x] `engine/rpg/loot-system.ts` - Sistema de botÃ­n âœ…
- [x] `engine/rpg/save-system.ts` - Guardado local/nube âœ…
- [x] `engine/rpg/index.ts` - Exports centralizados âœ…

### 5.3 Entidades
- [x] `engine/entities/GameEntity.ts` - Clase base âœ…
- [x] `engine/entities/BossEntity.ts` - Entidad de boss âœ…
- [x] `engine/entities/EnemyEntity.ts` - Entidad enemigo âœ…
- [x] `engine/entities/index.ts` - Exports centralizados âœ…

### 5.4 Character System
- [x] `engine/character/Character.ts` - Clase personaje âœ…
- [x] `engine/character/states/` - Estados del personaje âœ…
- [x] `engine/character/registry/` - Registro de personajes âœ…
- [x] `engine/character/index.ts` - Exports centralizados âœ…

---

## ðŸŸ£ FASE 6: SHADERS Y VFX

### 6.1 Shaders Principales
- [ ] `engine/shaders/skyShader.ts` - Cielo procedural
- [ ] `engine/shaders/waterShader.ts` - Agua con Fresnel
- [ ] `engine/shaders/grassShader.ts` - Hierba animada

### 6.2 Shaders Secundarios
- [ ] `engine/shaders/fireShader.ts` - Fuego
- [ ] `engine/shaders/stoneShader.ts` - Piedra procedural
- [ ] `engine/shaders/groundShader.ts` - Suelo con camino

### 6.3 Materiales Personalizados
- [ ] `engine/materials/WaterMaterial.tsx`
- [ ] `engine/materials/SkyMaterial.tsx`
- [ ] `engine/materials/GrassMaterial.tsx`

---

## âš« FASE 7: INTEGRACIÃ“N FINAL

### 7.1 PÃ¡gina Demo (Motor 3D)
- [ ] `pages/Demo/Demo.tsx` - PÃ¡gina principal
- [ ] `pages/Demo/Demo.css` - Estilos
- [ ] `pages/Demo/components/Lobby.tsx` - Panel de lobby
- [ ] `pages/Demo/components/GameHUD.tsx` - HUD in-game

### 7.2 Componentes UI Adicionales
- [x] `components/ui/CookieConsent.tsx` - Banner de cookies GDPR âœ…
- [ ] `components/ui/SettingsModal.tsx` - ConfiguraciÃ³n
- [ ] `components/ui/CharacterCard.tsx` - Tarjeta personaje
- [ ] `components/ui/RPGToast.tsx` - Notificaciones RPG
- [ ] `components/ui/ProgressBar.tsx` - Barra de progreso

### 7.3 IntegraciÃ³n de Rutas
- [x] Actualizar `App.tsx` con guards âœ…
- [ ] Conectar Demo con motor 3D
- [x] Transiciones entre pÃ¡ginas (Framer Motion) âœ…

### 7.4 Testing y Polish
- [x] Probar todas las rutas âœ…
- [ ] Optimizar bundle size
- [x] Verificar responsive (landscape + portrait) âœ…
- [ ] DocumentaciÃ³n final

---

## ðŸ”· FASE 8: PWA + MÃ“VIL (Capacitor)

### 8.1 PWA Configuration
- [x] `vite-plugin-pwa` instalado y configurado âœ…
- [x] `manifest.json` generado automÃ¡ticamente âœ…
- [x] Service Worker configurado âœ…
- [x] Iconos PWA (192x192, 512x512) âœ…
- [x] Apple touch icon configurado âœ…
- [x] Banner de instalaciÃ³n PWA âœ…

### 8.2 Capacitor Setup
- [x] `@capacitor/core` y `@capacitor/cli` instalados âœ…
- [x] `@capacitor/android` configurado âœ…
- [x] `capacitor.config.json` creado âœ…
- [x] Carpeta `/android` generada âœ…
- [x] Scripts de build en package.json âœ…

### 8.3 DetecciÃ³n de Plataforma
- [x] Hook `usePlatform.ts` para detectar PWA/nativa âœ…
- [x] Hook `useCanShowPurchases.ts` para ocultar compras âœ…
- [x] Componente `PlatformOnly.tsx` helper âœ…

### 8.4 UI/UX MÃ³vil
- [x] CSS responsive todas las pÃ¡ginas âœ…
- [x] Soporte landscape y portrait âœ…
- [x] SplashScreen optimizado (non-lazy) âœ…
- [x] Cookie consent banner minimal âœ…

---

## ðŸ“ ESTRUCTURA DE CARPETAS FINAL

```
src/
â”œâ”€â”€ App.tsx                    âœ…
â”œâ”€â”€ main.tsx                   âœ…
â”œâ”€â”€ index.css                  âœ…
â”œâ”€â”€ vite-env.d.ts             âœ…
â”‚
â”œâ”€â”€ config/
â”‚   â”œâ”€â”€ api.config.ts          âœ…
â”‚   â””â”€â”€ game.config.ts         âœ…
â”‚
â”œâ”€â”€ context/
â”‚   â””â”€â”€ AuthContext.tsx        âœ…
â”‚
â”œâ”€â”€ hooks/
â”‚   â”œâ”€â”€ useAuth.ts             âœ…
â”‚   â”œâ”€â”€ usePlatform.ts         âœ… (PWA/nativa detection)
â”‚   â”œâ”€â”€ useCanShowPurchases.ts âœ… (ocultar compras en app)
â”‚   â”œâ”€â”€ PlatformOnly.tsx       âœ… (componente helper)
â”‚   â””â”€â”€ index.ts               âœ…
â”‚
â”œâ”€â”€ stores/                    âœ… COMPLETO
â”‚   â”œâ”€â”€ gameStore.ts           âœ…
â”‚   â”œâ”€â”€ uiStore.ts             âœ…
â”‚   â”œâ”€â”€ playerStore.ts         âœ…
â”‚   â””â”€â”€ index.ts               âœ…
â”‚
â”œâ”€â”€ services/                  âœ… COMPLETO
â”‚   â”œâ”€â”€ api.service.ts         âœ…
â”‚   â”œâ”€â”€ auth.service.ts        âœ…
â”‚   â”œâ”€â”€ dungeon.service.ts     âœ…
â”‚   â”œâ”€â”€ ranking.service.ts     âœ…
â”‚   â”œâ”€â”€ socket.service.ts      âœ…
â”‚   â””â”€â”€ index.ts               âœ…
â”‚
â”œâ”€â”€ types/                     âœ… COMPLETO
â”‚   â”œâ”€â”€ auth.types.ts          âœ…
â”‚   â”œâ”€â”€ user.types.ts          âœ…
â”‚   â”œâ”€â”€ item.types.ts          âœ…
â”‚   â”œâ”€â”€ character.types.ts     âœ…
â”‚   â”œâ”€â”€ dungeon.types.ts       âœ…
â”‚   â”œâ”€â”€ survival.types.ts      âœ…
â”‚   â”œâ”€â”€ ranking.types.ts       âœ…
â”‚   â”œâ”€â”€ shop.types.ts          âœ…
â”‚   â”œâ”€â”€ rpg.types.ts           âœ…
â”‚   â””â”€â”€ index.ts               âœ…
â”‚
â”œâ”€â”€ components/                âœ… COMPLETO
â”‚   â”œâ”€â”€ guards/
â”‚   â”‚   â”œâ”€â”€ RequireAuth.tsx    âœ…
â”‚   â”‚   â”œâ”€â”€ RequireNoAuth.tsx  âœ…
â”‚   â”‚   â””â”€â”€ index.ts           âœ…
â”‚   â””â”€â”€ ui/
â”‚       â”œâ”€â”€ LoadingScreen.tsx  âœ…
â”‚       â”œâ”€â”€ GlobalNavbar.tsx   âœ…
â”‚       â”œâ”€â”€ CookieConsent.tsx  âœ… (GDPR banner)
â”‚       â”œâ”€â”€ CookieConsent.css  âœ…
â”‚       â””â”€â”€ index.ts           âœ…
â”‚
â”œâ”€â”€ utils/                     âœ… COMPLETO
â”‚   â”œâ”€â”€ constants.ts           âœ…
â”‚   â”œâ”€â”€ helpers.ts             âœ…
â”‚   â””â”€â”€ index.ts               âœ…
â”‚
â”œâ”€â”€ pages/                     âœ… UI COMPLETA
â”‚   â”œâ”€â”€ Auth/                  âœ…
â”‚   â”œâ”€â”€ Dashboard/             âœ…
â”‚   â”œâ”€â”€ Inventory/             âœ…
â”‚   â”œâ”€â”€ Shop/                  âœ…
â”‚   â”œâ”€â”€ Marketplace/           âœ…
â”‚   â”œâ”€â”€ Dungeon/               âœ…
â”‚   â”œâ”€â”€ Ranking/               âœ…
â”‚   â”œâ”€â”€ Survival/              âœ…
â”‚   â”œâ”€â”€ Wiki/                  âœ…
â”‚   â”œâ”€â”€ Landing/               âœ…
â”‚   â””â”€â”€ SplashScreen/          âœ…
â”‚
â””â”€â”€ engine/                    âœ… COMPLETO
    â”œâ”€â”€ components/            âœ…
    â”œâ”€â”€ hooks/                 âœ…
    â”œâ”€â”€ systems/               âœ… 14/14
    â”œâ”€â”€ scenes/                âœ… 9/9
    â”œâ”€â”€ shaders/               â³
    â”œâ”€â”€ rpg/                   âœ…
    â”œâ”€â”€ entities/              âœ…
    â”œâ”€â”€ character/             âœ…
    â”œâ”€â”€ stores/                âœ…
    â””â”€â”€ utils/                 âœ…

/                              (raÃ­z del proyecto)
â”œâ”€â”€ android/                   âœ… (Capacitor Android)
â”œâ”€â”€ capacitor.config.json      âœ…
â”œâ”€â”€ vite.config.js             âœ… (con PWA plugin)
â”œâ”€â”€ CAPACITOR_GUIDE.md         âœ…
â”œâ”€â”€ DEPLOY_GUIDE.md            âœ…
â””â”€â”€ MIGRACION_CHECKLIST.md     âœ…
```

---

## ðŸ“ NOTAS DE PROGRESO

### 31 de enero de 2026 - SesiÃ³n 1 (MaÃ±ana)
- âœ… Fase 1 completada: Infraestructura base
- âœ… Tailwind CSS v4 configurado con @tailwindcss/postcss
- âœ… Framer Motion instalado
- âœ… Todos los stores creados
- âœ… Todos los types completados
- âœ… Services adicionales creados
- âœ… Guards y componentes UI base
- âœ… Fase 2 completada: Motor 3D Core (GameCanvas, Physics, Player, Camera, Input, Movement)
- âœ… Fase 3 completada: 14 sistemas creados (Animation, Combat, Weather, Sky, Audio, VFX, PostProcess, Trail, Grass, Wildlife, Particles)
- âœ… Fase 4 completada: 9 niveles + LevelKit (Preview, Test, Castle, Valley, Canyon, Mining, Plain, Terrain)

### 31 de enero de 2026 - SesiÃ³n 2 (Tarde)
- âœ… **PWA completa:** vite-plugin-pwa configurado con manifest, SW, iconos
- âœ… **Capacitor Android:** Proyecto nativo generado, listo para compilar APK
- âœ… **Cookie Consent:** Banner GDPR minimal y elegante
- âœ… **Responsive CSS:** Todas las pÃ¡ginas con soporte landscape/portrait
- âœ… **Fix loading:** SplashScreen cambiado de lazy() a import directo
- âœ… **Hooks de plataforma:** usePlatform, useCanShowPurchases, PlatformOnly
- âœ… **GuÃ­as creadas:** CAPACITOR_GUIDE.md, DEPLOY_GUIDE.md
- ðŸ“‹ **Pendiente:** Decidir estilo visual 3D (Toon/Low Poly/Cartoon/Fantasy)

---

> **Ãšltima actualizaciÃ³n:** 31/01/2026 - SesiÃ³n 2 (Tarde)  
> **Progreso total:** ~70%
